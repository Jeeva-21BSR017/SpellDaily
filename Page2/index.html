<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpellDaily - Progress</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Pattaya&family=Poppins:wght@400;600;700&family=Ultra&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container progress-page-container">
        <!-- Progress Header -->
        <div class="section-wrapper progress-header-wrapper">
            <div class="section-header-container">
                <img src="../assets/progress_heading.svg" alt="Progress" class="progress-header-img">
            </div>
        </div>

        <!-- Progress Content Container -->
        <div class="progress-list" id="progress-container">
            <!-- Content will be injected by JS -->
        </div>
    </div>

    <!-- Load Data and Render -->
    <script src="data.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('progress-container');
            let htmlContent = '';

            progressData.forEach(row => {
                if (row.type === 'full') {
                    // Render Full Width Card
                    const cardData = row.cards[0];
                    htmlContent += `
                        <div class="progress-card">
                            <div class="progress-table">
                                <!-- Days Header -->
                                <div class="table-row header-row">
                                    ${cardData.headers.map(h => `<div class="table-cell">${h}</div>`).join('')}
                                </div>
                                <!-- Words Row -->
                                <div class="table-row word-row">
                                    ${cardData.words.map(w => `<div class="table-cell ${w.correct ? 'correct' : 'incorrect'}">${w.text}</div>`).join('')}
                                </div>
                            </div>
                            ${cardData.footer ? `<div class="card-footer-text">${cardData.footer}</div>` : ''}
                        </div>
                    `;
                } else if (row.type === 'split') {
                    // Render Split Row
                    htmlContent += `<div class="progress-split-row">`;

                    row.cards.forEach(cardData => {
                        htmlContent += `
                            <div class="progress-card split-card">
                                <div class="progress-table">
                                    <div class="table-row header-row">
                                        ${cardData.headers.map(h => `<div class="table-cell">${h}</div>`).join('')}
                                    </div>
                                    <div class="table-row word-row">
                                        ${cardData.words.map(w => `<div class="table-cell ${w.correct ? 'correct' : 'incorrect'}">${w.text}</div>`).join('')}
                                    </div>
                                </div>
                            </div>
                        `;
                    });

                    htmlContent += `</div>`;
                    // Split Footer
                    if (row.footer) {
                        htmlContent += `<div class="split-footer-text">${row.footer}</div>`;
                    }
                }
            });

            // Add Footer Note
            if (typeof footerNoteText !== 'undefined') {
                htmlContent += `
                    <div class="footer-note">
                        ${footerNoteText}
                    </div>
                `;
            }

            container.innerHTML = htmlContent;
        });
    </script>
</body>

</html>